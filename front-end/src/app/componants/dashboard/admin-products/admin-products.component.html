<div class="container mt-3">
  <!-- Header -->
  <div class="d-flex justify-content-between mb-3">
    <input [(ngModel)]="searchKey"
           (ngModelChange)="search()"
           type="text"
           class="form-control w-50"
           placeholder="Search products...">
<!--    <button class="btn btn-primary ms-2" (click)="search()">Search</button>-->
    <button class="btn btn-success ms-auto" (click)="addProduct()">+ Add Product</button>
  </div>

  <!-- Products Table -->
  <table class="table table-hover table-bordered align-middle">
    <thead class="table-dark">
    <tr>
      <th>Image</th>
      <th>Name</th>
      <th>Description</th>
      <th>Price</th>
      <th>Category</th>
      <th class="text-center">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let product of products">
      <td><img [src]="'../../../assets/img/' + product.image" width="60" height="60" class="rounded"></td>
      <td>{{ product.name }}</td>
      <td>{{ product.description }}</td>
      <td>{{ product.price | currency }}</td>
      <td>{{ getCategoryName(product.categoryId) }}</td>
      <td class="actions-cell">
        <div class="actions">
          <button class="btn btn-sm btn-warning" (click)="editProduct(product)">
            <i class="fas fa-edit"></i>
          </button>
          <button class="btn btn-sm btn-danger" (click)="deleteProduct(product.id)">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
  <div *ngIf="products.length === 0 && totalProducts === 0" class="alert alert-secondary text-center mt-3 shadow-sm">
    <i class="fas fa-ban text-danger"></i> No products found
  </div>
  <!-- Pagination -->
  <ngb-pagination
    *ngIf="products.length > 0"
    [(page)]="pageNo"
    [pageSize]="pageSize"
    [collectionSize]="totalProducts"
    (pageChange)="pageChange($event)"
    [maxSize]="5"
    [boundaryLinks]="true">
  </ngb-pagination>
</div>
